<!DOCTYPE html>
<html>
  <head>
    <title>Tasker</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <%#= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>
  <body class = "text center" >
  <center>
  <%# #navbar %>
<%#user needs to be signed in in order to see the rest of the navbar%>



  <nav class="navbar navbar-expand-lg navbar-light bg-light justify-content-lg-center" >
    <a class="navbar-brand">Tasker</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" courier-controls="navbarNavDropdown" courier-expanded="false" courier-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

     <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">

 <% if authorized? %>

          <li class="nav-item">
            <a class="nav-link" href="<%=missions_path%>">Home</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="<%=new_mission_path %>">Create New Mission</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="<%= new_task_path %>">Make a Task</a>
          </li>


          <li class="nav-item">
             <%= button_to 'Logout', logout_path, method: :delete, class:'nav-link logout-btn' %>
          </li>

  <%else%>

    <li class="nav-item active">
      <a class="nav-link" href="/users/new">Sign Up<span class="sr-only"></span></a>
    </li>
    <li class="nav-item">
      <a class="nav-link"  href="/login">Log In</a>
    </li>
<% end %> 
        </ul>
      </div>
    </nav>



   <% if flash[:notice] %>
      <div class="notice"><%= flash[:notice] %></div>
    <% end %>


   
    <%= yield %>
    </center>
  </body>
</html>
